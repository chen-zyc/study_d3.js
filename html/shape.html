<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Shape</title>
	<script src="js/d3/d3.js" charset="utf-8"></script>
</head>

<body>
<h1>简单的矩形</h1>
<div id="rect-1">
	<div></div>
	<script type="text/javascript">
		(function () {
			var svg = d3.select('#rect-1').select('div').append('svg');
			svg.attr('width', 800).attr('height', 300);
			svg.selectAll('rect') // 选择当前DOM中所有rect元素,这里没有
					.data([100, 200, 300]) // 绑定数据
					.enter() // 当前选择中存在但是当前DOM元素中还不存在的每个数据元素的占位符节点
					.append('rect') // 补充没有存在的DOM元素
					.attr('x', 20).attr('y', function (d, i) {
				return i * 25;
			}).attr('width', function (d, i) {
				return d;
			}).attr('height', 20)
					.attr('fill', 'steelblue');
		})()
	</script>
</div>

<h1>圆</h1>
<div id="circle"></div>
<script type="text/javascript">
	(function () {
		var svg = d3.select('#circle').append('svg')
				.attr('width', 400)
				.attr('height', 600);
		svg.append('circle')
				.attr('cx', 100)
				.attr('cy', 100)
				.attr('r', 100)
				.style('fill', 'steelblue');
		// 使用函数指定值
		svg.append('circle')
				.attr('cx', function () {
					return Math.random() * 300;
				})
				.attr('cy', 250)
				.attr('r', 50)
				.style('fill', 'steelblue');
		// with hovering
		svg.append("circle")
				.style("stroke", "gray")
				.style("fill", "white")
				.attr("r", 40)
				.attr("cx", 50)
				.attr("cy", 350)
				.on("mouseover", function () {
					d3.select(this).style("fill", "blue");
				})
				.on("mouseout", function () {
					d3.select(this).style("fill", "white");
				});
		svg.append("circle")
				.style("stroke", "gray")
				.style("fill", "white")
				.attr("r", 40)
				.attr("cx", 50)
				.attr("cy", 450)
				.transition()
				.delay(100)
				.duration(1000)
				.attr("r", 10)
				.attr("cx", 30)
				.style("fill", "black");
		svg.append("circle")
				.style("stroke", "gray")
				.style("fill", "white")
				.attr("r", 40)
				.attr("cx", 50)
				.attr("cy", 550)
				.on("mouseover", function () {
					d3.select(this).style("fill", "aliceblue");
				})
				.on("mouseout", function () {
					d3.select(this).style("fill", "white");
				})
				.on("mousedown", function () {
					d3.select(this).transition()
							.duration(1000)
							.attr("r", 10)
							.transition()
							.delay(1000)
							.attr("r", 40);
				});
	})()
</script>
</body>

</html>
